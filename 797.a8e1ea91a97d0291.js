(()=>{"use strict";var e,A={1112:(e,o,n)=>{var c=n(5526);function s(l){let i=[];if(0===l.length)return[];if(1===l.length)return[l];for(let u=0;u<l.length;u++){const h=l[u],k=s(l.slice(0,u).concat(l.slice(u+1)));for(let g=0;g<k.length;g++){const f=[h].concat(k[g]);i.push(f)}}return i}addEventListener("message",({data:l})=>{const{attackers:i,defenders:u,isSplashEnabled:h}=l;postMessage(function d(l,i,u){const k=function D(l,i){const u=[];return l.forEach(h=>{i.forEach(b=>{u.push([h,b])})}),u}(s(l),s(i));k.forEach(f=>{const v=structuredClone(f[0]),_=structuredClone(f[1]),{battleResults:m,unusedAttackerUnits:S,totalDefendersHp:p,totalConvertedHp:x,convertedUnits:a,attackerSurvivors:r,totalAttackersHp:H,totalAttackDamage:B,defendersKilled:P}=(0,c.U)(v,_,u),M={unusedAttackerUnits:S,totalDefendersHp:p,totalConvertedHp:x,convertedUnits:a,attackerSurvivors:r,totalAttackersHp:H,totalAttackDamage:B,defendersKilled:P};f.push(m),f.push(M)});const g=f=>(k.sort((v,_)=>{switch(f){case"maxSurvivors":{const a=v[3],r=_[3];return r.attackerSurvivors.length-a.attackerSurvivors.length||r.defendersKilled.length-a.defendersKilled.length||r.totalAttackersHp-a.totalAttackersHp||a.totalDefendersHp-r.totalDefendersHp||a.totalDefenseDamage-r.totalDefenseDamage||r.totalAttackDamage-a.totalAttackDamage}case"maxKilled":{const a=v[3],r=_[3];return r.defendersKilled.length-a.defendersKilled.length||r.attackerSurvivors.length-a.attackerSurvivors.length||a.totalDefendersHp-r.totalDefendersHp||r.totalAttackersHp-a.totalAttackersHp||a.totalDefenseDamage-r.totalDefenseDamage||r.totalAttackDamage-a.totalAttackDamage}case"maxDamage":{const a=v[3],r=_[3];return r.totalAttackDamage-a.totalAttackDamage||r.defendersKilled.length-a.defendersKilled.length||a.totalDefendersHp-r.totalDefendersHp||r.totalAttackersHp-a.totalAttackersHp||a.totalDefenseDamage-r.totalDefenseDamage||r.attackerSurvivors.length-a.attackerSurvivors.length}case"minRetaliation":{const a=v[3],r=_[3];return a.totalDefenseDamage-r.totalDefenseDamage||r.totalAttackersHp-a.totalAttackersHp||r.attackerSurvivors.length-a.attackerSurvivors.length||a.totalDefendersHp-r.totalDefendersHp||r.defendersKilled.length-a.defendersKilled.length||a.totalDefenseDamage-r.totalDefenseDamage}default:const m=v[3],p=_[3];return p.totalAttackDamage-p.totalDefenseDamage-(m.totalAttackDamage-m.totalDefenseDamage)||p.totalAttackDamage-m.totalAttackDamage||m.totalDefenseDamage-p.totalDefenseDamage||p.totalAttackersHp-m.totalAttackersHp||m.totalDefendersHp-p.totalDefendersHp||p.defendersKilled.length-m.defendersKilled.length||p.attackerSurvivors.length-m.attackerSurvivors.length}}),k[0][2]);return{maxSurvivorsBattles:g("maxSurvivors"),maxKilledBattles:g("maxKilled"),maxDamageBattles:g("maxDamage"),minRetaliationBattles:g("minRetaliation"),optimBattles:g("optim")}}(i,u,h))})},840:(e,o,n)=>{n.d(o,{LC:()=>u,S9:()=>i,XN:()=>h,bX:()=>l,jk:()=>k,m0:()=>d,pg:()=>s});const s=["Mooni","Ice Archer","Dragon Egg","Mind Bender","Segment","Juggernaut","Bomber","Jelly"],d=["Ice Archer","Mooni"],l=["Dagger","Phychi","Pirate","Shark"],i=["Jelly"],u=["Shaman","Mind Bender","Siren"],h=["Juggernaut","Fire Dragon","Bomber","Exida"],k=["Raft","Scout","Rammer","Bomber"]}},y={};function t(e){var o=y[e];if(void 0!==o)return o.exports;var n=y[e]={exports:{}};return A[e](n,n.exports,t),n.exports}t.m=A,t.x=()=>{var e=t.O(void 0,[76],()=>t(1112));return t.O(e)},e=[],t.O=(o,n,D,c)=>{if(!n){var d=1/0;for(s=0;s<e.length;s++){for(var[n,D,c]=e[s],l=!0,i=0;i<n.length;i++)(!1&c||d>=c)&&Object.keys(t.O).every(f=>t.O[f](n[i]))?n.splice(i--,1):(l=!1,c<d&&(d=c));if(l){e.splice(s--,1);var u=D();void 0!==u&&(o=u)}}return o}c=c||0;for(var s=e.length;s>0&&e[s-1][2]>c;s--)e[s]=e[s-1];e[s]=[n,D,c]},t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((o,n)=>(t.f[n](e,o),o),[])),t.u=e=>"common.6bd2a62e4c911fac.js",t.miniCssF=e=>{},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e;t.tt=()=>(void 0===e&&(e={createScriptURL:o=>o},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),t.tu=e=>t.tt().createScriptURL(e),t.p="",(()=>{var e={797:1};t.f.i=(c,s)=>{e[c]||importScripts(t.tu(t.p+t.u(c)))};var n=self.webpackChunkapp=self.webpackChunkapp||[],D=n.push.bind(n);n.push=c=>{var[s,d,l]=c;for(var i in d)t.o(d,i)&&(t.m[i]=d[i]);for(l&&l(t);s.length;)e[s.pop()]=1;D(c)}})(),(()=>{var e=t.x;t.x=()=>t.e(76).then(e)})(),t.x()})();